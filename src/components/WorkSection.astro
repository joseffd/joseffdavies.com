---
import EntryCard from './EntryCard.astro';
---

<section id="work" class="page-section">
	<div class="container">
		<h2 class="page-title">Work</h2>

		<h3 class="section-title">Projects</h3>
		<p class="section-intro">Built at the Greater London Authority.</p>
		<div class="timeline">
			<EntryCard
				title="London Water Fountains Map"
				subtitle="View map"
				subtitleUrl="https://apps.london.gov.uk/water-fountains"
				summary="Interactive map showing public water fountain locations across London."
				tags={["React", "Mapbox", "react-map-gl"]}
			/>
			<EntryCard
				title="Sustainable Drainage Systems Map"
				subtitle="View map"
				subtitleUrl="https://apps.london.gov.uk/suds"
				summary="Interactive map for London's sustainable drainage infrastructure."
				tags={["React", "Mapbox", "react-map-gl"]}
			/>
			<EntryCard
				title="Green Infrastructure Explorer"
				subtitle="View map"
				subtitleUrl="https://apps.london.gov.uk/v2-green-infrastructure"
				summary="Interactive map exploring London's green infrastructure network."
				tags={["React", "Mapbox", "react-map-gl", "Material UI", "react-chartjs-2"]}
			/>
		</div>

		<h3 class="section-title">Open Source</h3>
		<div class="timeline">
			<EntryCard
				title="joseffdavies.com"
				subtitle="View source"
				subtitleUrl="https://github.com/joseffd/joseffdavies.com"
				summary="This website. Built with Astro."
				tags={["Astro", "TypeScript"]}
			/>
			<EntryCard
				title="Contribution to react-jsonschema-form"
				subtitle="View PR"
				subtitleUrl="https://github.com/rjsf-team/react-jsonschema-form/pull/4915"
				summary="Added fieldPathId to FieldTemplateProps to fix onChange path handling."
			/>
		</div>
	</div>
</section>

<style>
	.page-section {
		padding: var(--space-lg) var(--space-md);
		scroll-margin-top: 60px;
	}

	.container {
		max-width: 48rem;
		margin: 0 auto;
	}

	.page-title {
		font-size: clamp(2rem, 5vw, 2.5rem);
		font-weight: 700;
		margin: 0 0 var(--space-lg);
		letter-spacing: -0.02em;
	}

	.section-title {
		font-size: 1rem;
		font-weight: 600;
		text-transform: uppercase;
		letter-spacing: 0.05em;
		color: var(--color-text-muted);
		margin: 0 0 var(--space-md);
	}

	.section-title:not(:first-of-type) {
		margin-top: var(--space-lg);
	}

	.section-intro {
		margin: calc(-0.5 * var(--space-md)) 0 var(--space-md);
		color: var(--color-text-muted);
	}

	.timeline {
		display: flex;
		flex-direction: column;
		gap: var(--space-lg);
	}
</style>
